<section>
  <div class="container mt-4">
    <div class="card w-50">
      <div class="card-header text-white" (click)="toggleCardInfo()">
        <button (click)="modelInfo()" class="btn btn-primary btn-sm">Info del modelo</button>
      </div>
      <div class="card-body" *ngIf="showContentInfo">
        <ul>
          @if (infoModel?.model_name) {
          <li>Nombre del modelo: {{ infoModel?.model_name }}</li>
          }
          @if (infoModel?.description) {
          <li>Descripción: {{ infoModel?.description }}</li>
          }
          @if (infoModel?.dimensions) {
          <li>Dimensiones del modelo: {{ infoModel?.dimensions }}</li>
          }
          @if (infoModel?.language) {
          <li>Idioma: {{ infoModel?.language }}</li>
          }
          @if (infoModel?.use_case) {
          <li>Caso de uso: {{ infoModel?.use_case }}</li>
          }
          @if (infoModel?.max_sequence_length) {
          <li>Longitud máxima de secuencia (longitud máxima de tokens que el modelo puede procesar en una sola
            entrada.):
            {{ infoModel?.max_sequence_length }}</li>
          }
        </ul>
      </div>
    </div>

    <div class="card w-50">
      <div class="card-header text-white" (click)="toggleCardHealth()">
        <button (click)="modelHealth()" class="btn btn-primary btn-sm">Salud del modelo</button>
      </div>

      <div class="card-body" *ngIf="showContentHealth">

        <ul>
          @if (infoModelHealth?.status) {
          <li>Estado: {{ infoModelHealth?.status }}</li>
          }
          @if (infoModelHealth?.model) {
          <li>Descripción: {{ infoModelHealth?.model }}</li>
          }
          @if (infoModelHealth?.api_url) {
          <li>URL de la API: {{ infoModelHealth?.api_url }}</li>
          }
          @if (infoModelHealth?.test_embedding_dimensions) {
          <li>Dimensiones de la prueba de incrustación: {{ infoModelHealth?.test_embedding_dimensions }}</li>
          }
          @if (infoModelHealth?.token_configured) {
          <li>Tokenización: {{ infoModelHealth?.token_configured }}</li>
          }
        </ul>
      </div>
    </div>

    <div class="card w-50">
      <div class="card-header text-black" (click)="toggleCardEmbeddingSingle()">
        <h5 class="card-title mb-0">Embedding Single</h5>
      </div>
      <div class="card-body" *ngIf="showContentEmbeddingSingle">
        <button class="btn btn-primary btn-sm" type="button" (click)="getEmbedding()">Obtener Embedding</button>
        <div class="input-group mb-3">
          <input type="text" class="form-control" placeholder="Ingrese texto para procesar" [(ngModel)]="embeddingText">
        </div>
        <div *ngIf="embeddingResult">
          <h6>Resultado:</h6>
          <pre class="bg-light p-2"
            style="max-height: 230px; overflow: auto;"><code>{{ embeddingResult | json }}</code></pre>
        </div>
      </div>
    </div>

    <div class="card w-50">
      <div class="card-header text-black" (click)="toggleCardEmbeddingMulti()">
        <h5 class="card-title mb-0">Multi-Embedding</h5>
      </div>
      <div class="card-body" *ngIf="showContentEmbeddingMulti">
        <button class="btn btn-primary btn-sm" type="button" (click)="getMultiEmbedding()">Obtener
          Multi-Embedding</button>
        <div class="input-group mb-3">
          <textarea class="form-control" rows="5"
            placeholder='{\n  "texts": [\n    "Texto Uno",\n    "Texto Dos"\n  ]\n}'
            [(ngModel)]="multiEmbeddingText"></textarea>
        </div>
        <div *ngIf="multiEmbeddingError" class="alert alert-danger mt-2">
          {{ multiEmbeddingError }}
        </div>
        <div *ngIf="multiEmbeddingResult">
          <h6>Resultado:</h6>
          <pre class="bg-light p-2"
            style="max-height: 230px; overflow: auto;"><code>{{ multiEmbeddingResult | json }}</code></pre>
        </div>
      </div>
    </div>


  </div>
</section>